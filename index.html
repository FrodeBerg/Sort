<html>
    <head>
        <meta name="viewport" content="initial-scale=1, width=device-width">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
            <link href="styles.css" rel="stylesheet">
            <title>Sorting Algorithm</title>
    </head>

    <body>
        <ul class="algo" id="settings">
            <li>
                <button id="shuffle1" class="btn btn-secondary" onclick="shuffle('list1')">Shuffle1</button>
            </li>
            <li>
                <input id="number1" type="number" value="25" min="10" placeholder="25" max="50" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
            </li>
            <li>
                <select id="algo1"  class="form-select" aria-label="Disabled select example" >
                    <option value="1">Heap</option>
                    <option value="2">Bubble</option>
                    <option value="3">Merge</option>
                </select>  
            </li>
            <li>
                <button id="run" class="btn btn-primary" class="algo">Run</button>
            </li>
            <li>
                <button id="shuffle2" class="btn btn-secondary" onclick="shuffle('list2')">Shuffle2</button>
            </li>
            <li>
                <input id="number2" type="number" value="25" min="10" placeholder="25" max="50" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
            </li>
            <li>
                <select id="algo2"  class="form-select" aria-label="Disabled select example" >
                    <option value="1">Heap</option>
                    <option value="2">Bubble</option>
                    <option value="3">Merge</option>
                </select>  
            </li>
        </ul>

        <ul id="arrays" class="algo">
            <li id="array1">

            </li>
            <li id="array2">

            </li>
        </ul>


        <script>
            document.body.onload = setup;
            // Gets number of elements in each array
            let elements_array1 = document.querySelector('#number1').addEventListener('change', function(){
                destroyPreviousElements();
            });
            let elements_array2 = document.querySelector('#number2').addEventListener('change', function(){
                destroyPreviousElements();
            });

            // Removes previous elements to add new ones later
            function destroyPreviousElements()
            {
                document.getElementById("list1").remove();
                document.getElementById("list2").remove();
                setup();
            }

            // Updates values of number of elements
            function setup()
            {
                var elements1 = document.querySelector('#number1').value;
                var elements2 = document.querySelector('#number2').value;

                setUpElements(elements1, "list1", "array1");
                setUpElements(elements2, "list2", "array2");
            }

            // Adds new elements 
            function setUpElements(x, list, array)
            {
                const svg = document.createElementNS("http://www.w3.org/2000/svg","svg");
                svg.setAttribute("id", list);
                svg.setAttribute("width", "500");
                svg.setAttribute("height", "200");

                // ADDs each element
                for (let i = 0; i < x; i++){

                    let width = 500 / (x * 2);


                    var rect=document.createElementNS("http://www.w3.org/2000/svg", 'rect');
                    rect.setAttribute("width", width);
                    rect.setAttribute("height", i * 200 / x);
                    rect.setAttribute("x", i * width * 2);


                    svg.appendChild(rect);
                }
                document.getElementById(array).appendChild(svg);
            }

            // Shuffles all elements in array 
            function shuffle(list){

                let parent = document.getElementById(list);
                for (const child of parent.children)
                {  
                    let rNum = Math.floor(Math.random() * 200);
                    child.setAttribute("height", rNum);
                    console.log(child.tagName);
                }
            }

        </script>
        
    </body>
</html>